{
    "name": "Xero",
    "version": "1.1.0",
    "description": "Xero accounting integration for invoice and bill management, reporting, and file attachments",
    "entry_point": "xero.py",
    "auth": {
        "type": "platform",
        "provider": "Xero",
        "scopes": ["accounting.reports.read", "accounting.contacts.read", "accounting.settings.read", "accounting.transactions.read", "accounting.transactions", "accounting.attachments", "offline_access"]
    },
    "actions": {
        "get_available_connections": {
            "display_name": "Get Available Connections",
            "description": "Gets all available Xero tenant connections and returns company names with tenant IDs",
            "input_schema": {
                "type": "object",
                "properties": {},
                "required": []
            },
            "output_schema": {
                "type": "object",
                "properties": {
                    "success": {
                        "type": "boolean",
                        "description": "Whether the request was successful"
                    },
                    "companies": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "properties": {
                                "tenant_id": {
                                    "type": "string",
                                    "description": "Xero tenant ID"
                                },
                                "company_name": {
                                    "type": "string",
                                    "description": "Xero tenant/company name"
                                }
                            },
                            "required": ["tenant_id", "company_name"]
                        }
                    },
                    "message": {
                        "type": "string",
                        "description": "Error message if success is false"
                    }
                },
                "required": ["success", "companies"]
            }
        },
        "find_contact_by_name": {
            "display_name": "Find Contact by Name",
            "description": "Finds contacts with matching name in Xero and returns comprehensive contact details including email, phone, address, and other information",
            "input_schema": {
                "type": "object",
                "properties": {
                    "tenant_id": {
                        "type": "string",
                        "description": "Xero tenant ID"
                    },
                    "contact_name": {
                        "type": "string",
                        "description": "Contact/organization name to search for (will match against Name field)"
                    }
                },
                "required": ["tenant_id", "contact_name"]
            },
            "output_schema": {
                "type": "object",
                "properties": {
                    "contacts": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "properties": {
                                "contact_id": {
                                    "type": "string",
                                    "description": "Contact ID (GUID)"
                                },
                                "name": {
                                    "type": "string",
                                    "description": "Contact name from Name field"
                                },
                                "contact_number": {
                                    "type": ["string", "null"],
                                    "description": "Contact number"
                                },
                                "account_number": {
                                    "type": ["string", "null"],
                                    "description": "Account number"
                                },
                                "contact_status": {
                                    "type": ["string", "null"],
                                    "description": "Contact status"
                                },
                                "first_name": {
                                    "type": ["string", "null"],
                                    "description": "First name"
                                },
                                "last_name": {
                                    "type": ["string", "null"],
                                    "description": "Last name"
                                },
                                "email_address": {
                                    "type": ["string", "null"],
                                    "description": "Email address"
                                },
                                "skype_user_name": {
                                    "type": ["string", "null"],
                                    "description": "Skype username"
                                },
                                "bank_account_details": {
                                    "type": ["string", "null"],
                                    "description": "Bank account details"
                                },
                                "tax_number": {
                                    "type": ["string", "null"],
                                    "description": "Tax number"
                                },
                                "accounts_receivable_tax_type": {
                                    "type": ["string", "null"],
                                    "description": "Accounts receivable tax type"
                                },
                                "accounts_payable_tax_type": {
                                    "type": ["string", "null"],
                                    "description": "Accounts payable tax type"
                                },
                                "addresses": {
                                    "type": ["array", "null"],
                                    "description": "Array of contact addresses"
                                },
                                "phones": {
                                    "type": ["array", "null"],
                                    "description": "Array of contact phone numbers"
                                },
                                "updated_date_utc": {
                                    "type": ["string", "null"],
                                    "description": "Last updated date in UTC"
                                },
                                "contact_groups": {
                                    "type": ["array", "null"],
                                    "description": "Array of contact groups"
                                },
                                "website": {
                                    "type": ["string", "null"],
                                    "description": "Website URL"
                                },
                                "branding_theme": {
                                    "type": ["object", "null"],
                                    "description": "Branding theme information"
                                },
                                "batch_payments": {
                                    "type": ["object", "null"],
                                    "description": "Batch payment information"
                                },
                                "discount": {
                                    "type": ["number", "null"],
                                    "description": "Discount percentage"
                                },
                                "balances": {
                                    "type": ["object", "null"],
                                    "description": "Account balances"
                                },
                                "attachments": {
                                    "type": ["array", "null"],
                                    "description": "Array of attachments"
                                },
                                "has_attachments": {
                                    "type": ["boolean", "null"],
                                    "description": "Whether contact has attachments"
                                },
                                "contact_persons": {
                                    "type": ["array", "null"],
                                    "description": "Array of contact persons"
                                }
                            },
                            "required": ["contact_id", "name"]
                        }
                    }
                },
                "required": ["contacts"]
            }
        },
        "get_aged_payables": {
            "display_name": "Get Aged Payables",
            "description": "Retrieves aged payables report from Xero for a specific contact",
            "input_schema": {
                "type": "object",
                "properties": {
                    "tenant_id": {
                        "type": "string",
                        "description": "Xero tenant ID"
                    },
                    "contact_id": {
                        "type": "string",
                        "description": "Contact ID (GUID) for which to retrieve aged payables"
                    },
                    "date": {
                        "type": "string",
                        "format": "date",
                        "description": "Report date (YYYY-MM-DD). Defaults to today if not specified"
                    }
                },
                "required": ["tenant_id", "contact_id"]
            },
            "output_schema": {
                "type": "object",
                "properties": {
                    "reports": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "properties": {
                                "report_id": {
                                    "type": "string",
                                    "description": "Report identifier"
                                },
                                "report_name": {
                                    "type": "string",
                                    "description": "Report name"
                                },
                                "report_date": {
                                    "type": "string",
                                    "description": "Report date"
                                },
                                "rows": {
                                    "type": "array",
                                    "description": "Report data rows"
                                }
                            }
                        }
                    }
                },
                "description": "Raw Xero API response for Aged Payables report"
            }
        },
        "get_aged_receivables": {
            "display_name": "Get Aged Receivables",
            "description": "Retrieves aged receivables report from Xero for a specific contact",
            "input_schema": {
                "type": "object",
                "properties": {
                    "tenant_id": {
                        "type": "string",
                        "description": "Xero tenant ID"
                    },
                    "contact_id": {
                        "type": "string",
                        "description": "Contact ID (GUID) for which to retrieve aged receivables"
                    },
                    "date": {
                        "type": "string",
                        "format": "date",
                        "description": "Report date (YYYY-MM-DD). Defaults to today if not specified"
                    }
                },
                "required": ["tenant_id", "contact_id"]
            },
            "output_schema": {
                "type": "object",
                "properties": {
                    "reports": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "properties": {
                                "report_id": {
                                    "type": "string",
                                    "description": "Report identifier"
                                },
                                "report_name": {
                                    "type": "string",
                                    "description": "Report name"
                                },
                                "report_date": {
                                    "type": "string",
                                    "description": "Report date"
                                },
                                "rows": {
                                    "type": "array",
                                    "description": "Report data rows"
                                }
                            }
                        }
                    }
                },
                "description": "Raw Xero API response for Aged Receivables report"
            }
        },
        "get_balance_sheet": {
            "display_name": "Get Balance Sheet",
            "description": "Retrieves balance sheet report from Xero",
            "input_schema": {
                "type": "object",
                "properties": {
                    "tenant_id": {
                        "type": "string",
                        "description": "Xero tenant ID"
                    },
                    "date": {
                        "type": "string",
                        "format": "date",
                        "description": "Report date (YYYY-MM-DD). Defaults to today if not specified"
                    },
                    "periods": {
                        "type": "integer",
                        "description": "Number of periods to compare (optional)",
                        "minimum": 1,
                        "maximum": 12
                    }
                },
                "required": ["tenant_id"]
            },
            "output_schema": {
                "type": "object",
                "properties": {
                    "reports": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "properties": {
                                "report_id": {
                                    "type": "string",
                                    "description": "Report identifier"
                                },
                                "report_name": {
                                    "type": "string",
                                    "description": "Report name"
                                },
                                "report_date": {
                                    "type": "string",
                                    "description": "Report date"
                                },
                                "rows": {
                                    "type": "array",
                                    "description": "Report data rows"
                                }
                            }
                        }
                    }
                },
                "description": "Raw Xero API response for Balance Sheet report"
            }
        },
        "get_profit_and_loss": {
            "display_name": "Get Profit and Loss",
            "description": "Retrieves profit and loss statement from Xero",
            "input_schema": {
                "type": "object",
                "properties": {
                    "tenant_id": {
                        "type": "string",
                        "description": "Xero tenant ID"
                    },
                    "date": {
                        "type": "string",
                        "format": "date",
                        "description": "Report date (YYYY-MM-DD). Defaults to today if not specified"
                    },
                    "from_date": {
                        "type": "string",
                        "format": "date",
                        "description": "Start date for the report period (YYYY-MM-DD)"
                    },
                    "to_date": {
                        "type": "string",
                        "format": "date",
                        "description": "End date for the report period (YYYY-MM-DD)"
                    },
                    "timeframe": {
                        "type": "string",
                        "enum": ["MONTH", "QUARTER", "YEAR"],
                        "description": "Timeframe for period comparisons (optional)"
                    },
                    "periods": {
                        "type": "integer",
                        "description": "Number of periods to compare (optional)",
                        "minimum": 1,
                        "maximum": 12
                    }
                },
                "required": ["tenant_id"]
            },
            "output_schema": {
                "type": "object",
                "properties": {
                    "reports": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "properties": {
                                "report_id": {
                                    "type": "string",
                                    "description": "Report identifier"
                                },
                                "report_name": {
                                    "type": "string",
                                    "description": "Report name"
                                },
                                "report_date": {
                                    "type": "string",
                                    "description": "Report date"
                                },
                                "rows": {
                                    "type": "array",
                                    "description": "Report data rows"
                                }
                            }
                        }
                    }
                },
                "description": "Raw Xero API response for Profit and Loss statement"
            }
        },
        "get_trial_balance": {
            "display_name": "Get Trial Balance",
            "description": "Retrieves trial balance report from Xero",
            "input_schema": {
                "type": "object",
                "properties": {
                    "tenant_id": {
                        "type": "string",
                        "description": "Xero tenant ID"
                    },
                    "date": {
                        "type": "string",
                        "format": "date",
                        "description": "Report date (YYYY-MM-DD). Defaults to last date of last calendar month if not specified"
                    },
                    "payments_only": {
                        "type": "boolean",
                        "description": "Whether to include only payments (optional, defaults to false)"
                    }
                },
                "required": ["tenant_id"]
            },
            "output_schema": {
                "type": "object",
                "properties": {
                    "reports": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "properties": {
                                "report_id": {
                                    "type": "string",
                                    "description": "Report identifier"
                                },
                                "report_name": {
                                    "type": "string",
                                    "description": "Report name"
                                },
                                "report_date": {
                                    "type": "string",
                                    "description": "Report date"
                                },
                                "rows": {
                                    "type": "array",
                                    "description": "Report data rows"
                                }
                            }
                        }
                    }
                },
                "description": "Raw Xero API response for Trial Balance report"
            }
        },
        "get_accounts": {
            "display_name": "Get Accounts",
            "description": "Retrieves accounts from Xero to classify line items (revenue, expenses, fixed assets, loans, equity/dividends, GST)",
            "input_schema": {
                "type": "object",
                "properties": {
                    "tenant_id": {
                        "type": "string",
                        "description": "Xero tenant ID"
                    },
                    "where": {
                        "type": "string",
                        "description": "Optional Xero where filter clause. Filter by any element using Xero syntax. Examples: Status=\"ACTIVE\", Type=\"REVENUE\", Code>=\"4000\". Use range operators (>, >=, <, <=) and combine with AND/OR operators."
                    },
                    "order": {
                        "type": "string",
                        "description": "Optional Xero orderby parameter. Order by any element returned. Examples: \"Code ASC\", \"Name DESC\", \"Type ASC\". Multi-field sorting: \"Type ASC, Code ASC\". Note: Some fields are optimized for better performance."
                    }
                },
                "required": ["tenant_id"]
            },
            "output_schema": {
                "type": "object",
                "properties": {
                    "accounts": {
                        "type": "array",
                        "description": "Array of Xero accounts"
                    }
                },
                "description": "Raw Xero API response for Accounts"
            }
        },
        "get_payments": {
            "display_name": "Get Payments",
            "description": "Retrieves payments from Xero for cash on invoices/bills (customer receipts, supplier payments, cash refunds)",
            "input_schema": {
                "type": "object",
                "properties": {
                    "tenant_id": {
                        "type": "string",
                        "description": "Xero tenant ID"
                    },
                    "where": {
                        "type": "string",
                        "description": "Optional Xero where filter clause. Optimized fields include PaymentType, Status, Date, Invoice.InvoiceId, Reference. Examples: PaymentType=\"ACCRECPAYMENT\", Status=\"AUTHORISED\", Date>=DateTime(2020,01,01), Reference=\"INV-0001\". Date ranges: Date>=DateTime(2020,01,01) AND Date<DateTime(2020,02,01). Use AND/OR operators and range operators (>, >=, <, <=)."
                    },
                    "order": {
                        "type": "string",
                        "description": "Optional Xero orderby parameter. Optimized fields for ordering: UpdatedDateUTC, Date, PaymentId. Examples: \"UpdatedDateUTC ASC\", \"Date DESC\", \"PaymentId ASC\". Multi-field sorting: \"Date DESC, PaymentId ASC\". Default order is UpdatedDateUTC ASC, PaymentId ASC."
                    },
                    "page": {
                        "type": "integer",
                        "description": "Optional page number for pagination. Default is 100 payments per page when used alone."
                    },
                    "pageSize": {
                        "type": "integer",
                        "description": "Optional page size for pagination (1-1000). Used with page parameter. Examples: page=1&pageSize=250."
                    }
                },
                "required": ["tenant_id"]
            },
            "output_schema": {
                "type": "object",
                "properties": {
                    "payments": {
                        "type": "array",
                        "description": "Array of Xero payments"
                    }
                },
                "description": "Raw Xero API response for Payments"
            }
        },
        "get_invoices": {
            "display_name": "Get Invoices",
            "description": "Retrieves invoices from Xero API with optimized filtering. Can fetch all invoices or a specific invoice by ID. Supports sales invoices (ACCREC) and purchase invoices (ACCPAY)",
            "input_schema": {
                "type": "object",
                "properties": {
                    "tenant_id": {
                        "type": "string",
                        "description": "Xero tenant ID"
                    },
                    "invoice_id": {
                        "type": "string",
                        "description": "Optional specific invoice ID (GUID) to fetch. When provided, fetches only this invoice and ignores other filter parameters"
                    },
                    "where": {
                        "type": "string",
                        "description": "Optional Xero where filter clause with optimized fields. Range operators: >, >=, <, <=, ==, !=. Examples: Status==\"AUTHORISED\", Date>=DateTime(2020,01,01) AND Date<=DateTime(2020,12,31), Contact.ContactID==guid(\"contact-id\"), Type==\"ACCREC\", Total>=100.00 AND Total<=1000.00. Combine with AND/OR operators."
                    },
                    "order": {
                        "type": "string",
                        "description": "Optional Xero orderby parameter. Optimized fields: InvoiceNumber, Date, DueDate, Total, UpdatedDateUTC. Examples: \"Date DESC\", \"InvoiceNumber ASC\", \"Total DESC,Date ASC\". Multi-field sorting supported."
                    },
                    "page": {
                        "type": "integer",
                        "description": "Optional page number for pagination"
                    },
                    "pageSize": {
                        "type": "integer",
                        "description": "Optional page size for pagination (max 100)"
                    },
                    "statuses": {
                        "type": "string",
                        "description": "Optional comma-separated list of invoice statuses for bulk filtering. Examples: \"DRAFT,SUBMITTED,AUTHORISED\", \"VOIDED,DELETED\". Valid statuses: DRAFT, SUBMITTED, AUTHORISED, PAID, VOIDED, DELETED"
                    },
                    "invoice_numbers": {
                        "type": "string",
                        "description": "Optional comma-separated list of invoice numbers for bulk retrieval by invoice number"
                    },
                    "contact_ids": {
                        "type": "string",
                        "description": "Optional comma-separated list of contact IDs (GUIDs) to filter invoices by specific contacts"
                    }
                },
                "required": ["tenant_id"]
            },
            "output_schema": {
                "type": "object",
                "properties": {
                    "invoices": {
                        "type": "array",
                        "description": "Array of Xero invoices with details including invoice number, date, due date, contact, line items, amounts, and status"
                    }
                },
                "description": "Raw Xero API response for Invoices"
            }
        },
        "get_bank_transactions": {
            "display_name": "Get Bank Transactions",
            "description": "Retrieves bank transactions from Xero for Receive/Spend Money not tied to invoices (CapEx, financing, other operating)",
            "input_schema": {
                "type": "object",
                "properties": {
                    "tenant_id": {
                        "type": "string",
                        "description": "Xero tenant ID"
                    },
                    "where": {
                        "type": "string",
                        "description": "Optional Xero where filter clause. Optimized fields include Type, Status, Date, Contact.ContactID. Examples: Type=\"RECEIVE\", Status=\"AUTHORISED\", Date>=DateTime(2020,01,01), Contact.ContactID=guid(\"96988e67-ecf9-466d-bfbf-0afa1725a649\"). Date ranges: Date>=DateTime(2020,01,01) AND Date<DateTime(2020,02,01). Use AND/OR operators and range operators (>, >=, <, <=)."
                    },
                    "order": {
                        "type": "string",
                        "description": "Optional Xero orderby parameter. Optimized fields for ordering: BankTransactionID, UpdatedDateUTC, Date. Examples: \"Date ASC\", \"UpdatedDateUTC DESC\", \"BankTransactionID ASC\". Multi-field sorting: \"Date DESC, BankTransactionID ASC\". Default order is UpdatedDateUTC ASC, BankTransactionID ASC."
                    },
                    "page": {
                        "type": "integer",
                        "description": "Optional page number for pagination"
                    }
                },
                "required": ["tenant_id"]
            },
            "output_schema": {
                "type": "object",
                "properties": {
                    "bank_transactions": {
                        "type": "array",
                        "description": "Array of Xero bank transactions"
                    }
                },
                "description": "Raw Xero API response for Bank Transactions"
            }
        },
        "create_sales_invoice": {
            "display_name": "Create Sales Invoice",
            "description": "Creates a new sales invoice (ACCREC) in Xero for billing customers",
            "input_schema": {
                "type": "object",
                "properties": {
                    "tenant_id": {
                        "type": "string",
                        "description": "Xero tenant ID"
                    },
                    "contact": {
                        "type": "object",
                        "description": "Contact object with either ContactID or Name. Examples: {\"ContactID\": \"guid\"} or {\"Name\": \"Customer Name\"}",
                        "properties": {
                            "ContactID": {
                                "type": "string",
                                "description": "Contact ID (GUID)"
                            },
                            "Name": {
                                "type": "string",
                                "description": "Contact name"
                            }
                        }
                    },
                    "line_items": {
                        "type": "array",
                        "description": "Array of line items for the invoice",
                        "items": {
                            "type": "object",
                            "properties": {
                                "Description": {
                                    "type": "string",
                                    "description": "Line item description"
                                },
                                "Quantity": {
                                    "type": "number",
                                    "description": "Quantity"
                                },
                                "UnitAmount": {
                                    "type": "number",
                                    "description": "Unit amount/price"
                                },
                                "AccountCode": {
                                    "type": "string",
                                    "description": "Account code for the line item"
                                },
                                "TaxType": {
                                    "type": "string",
                                    "description": "Tax type (e.g., OUTPUT, EXEMPTOUTPUT)"
                                }
                            },
                            "required": ["Description", "UnitAmount", "AccountCode"]
                        }
                    },
                    "date": {
                        "type": "string",
                        "format": "date",
                        "description": "Invoice date (YYYY-MM-DD). Defaults to today if not specified"
                    },
                    "due_date": {
                        "type": "string",
                        "format": "date",
                        "description": "Due date for payment (YYYY-MM-DD)"
                    },
                    "invoice_number": {
                        "type": "string",
                        "description": "Custom invoice number"
                    },
                    "reference": {
                        "type": "string",
                        "description": "Invoice reference"
                    },
                    "branding_theme_id": {
                        "type": "string",
                        "description": "Branding theme ID (GUID)"
                    },
                    "currency_code": {
                        "type": "string",
                        "description": "Currency code (e.g., USD, EUR). Defaults to organization currency"
                    },
                    "status": {
                        "type": "string",
                        "enum": ["DRAFT", "SUBMITTED", "AUTHORISED"],
                        "description": "Invoice status. Defaults to DRAFT"
                    },
                    "line_amount_types": {
                        "type": "string",
                        "enum": ["Exclusive", "Inclusive", "NoTax"],
                        "description": "Line amount types for tax calculation"
                    }
                },
                "required": ["tenant_id", "contact", "line_items"]
            },
            "output_schema": {
                "type": "object",
                "properties": {
                    "Invoices": {
                        "type": "array",
                        "description": "Array containing the created invoice with full details"
                    }
                },
                "description": "Raw Xero API response for created sales invoice"
            }
        },
        "create_purchase_bill": {
            "display_name": "Create Purchase Bill",
            "description": "Creates a new purchase bill (ACCPAY) in Xero for recording supplier invoices",
            "input_schema": {
                "type": "object",
                "properties": {
                    "tenant_id": {
                        "type": "string",
                        "description": "Xero tenant ID"
                    },
                    "contact": {
                        "type": "object",
                        "description": "Contact object with either ContactID or Name. Examples: {\"ContactID\": \"guid\"} or {\"Name\": \"Supplier Name\"}",
                        "properties": {
                            "ContactID": {
                                "type": "string",
                                "description": "Contact ID (GUID)"
                            },
                            "Name": {
                                "type": "string",
                                "description": "Contact name"
                            }
                        }
                    },
                    "line_items": {
                        "type": "array",
                        "description": "Array of line items for the bill",
                        "items": {
                            "type": "object",
                            "properties": {
                                "Description": {
                                    "type": "string",
                                    "description": "Line item description"
                                },
                                "Quantity": {
                                    "type": "number",
                                    "description": "Quantity"
                                },
                                "UnitAmount": {
                                    "type": "number",
                                    "description": "Unit amount/price"
                                },
                                "AccountCode": {
                                    "type": "string",
                                    "description": "Account code for the line item"
                                },
                                "TaxType": {
                                    "type": "string",
                                    "description": "Tax type (e.g., INPUT, EXEMPTINPUT)"
                                }
                            },
                            "required": ["Description", "UnitAmount", "AccountCode"]
                        }
                    },
                    "date": {
                        "type": "string",
                        "format": "date",
                        "description": "Bill date (YYYY-MM-DD). Defaults to today if not specified"
                    },
                    "due_date": {
                        "type": "string",
                        "format": "date",
                        "description": "Due date for payment (YYYY-MM-DD)"
                    },
                    "invoice_number": {
                        "type": "string",
                        "description": "Supplier's invoice/bill number"
                    },
                    "reference": {
                        "type": "string",
                        "description": "Bill reference"
                    },
                    "currency_code": {
                        "type": "string",
                        "description": "Currency code (e.g., USD, EUR). Defaults to organization currency"
                    },
                    "status": {
                        "type": "string",
                        "enum": ["DRAFT", "SUBMITTED", "AUTHORISED"],
                        "description": "Bill status. Defaults to DRAFT"
                    },
                    "line_amount_types": {
                        "type": "string",
                        "enum": ["Exclusive", "Inclusive", "NoTax"],
                        "description": "Line amount types for tax calculation"
                    }
                },
                "required": ["tenant_id", "contact", "line_items"]
            },
            "output_schema": {
                "type": "object",
                "properties": {
                    "Invoices": {
                        "type": "array",
                        "description": "Array containing the created purchase bill with full details"
                    }
                },
                "description": "Raw Xero API response for created purchase bill"
            }
        },
        "update_sales_invoice": {
            "display_name": "Update Sales Invoice",
            "description": "Updates an existing sales invoice (ACCREC) in Xero. Only DRAFT and SUBMITTED invoices can be updated",
            "input_schema": {
                "type": "object",
                "properties": {
                    "tenant_id": {
                        "type": "string",
                        "description": "Xero tenant ID"
                    },
                    "invoice_id": {
                        "type": "string",
                        "description": "ID of the invoice to update (GUID)"
                    },
                    "contact": {
                        "type": "object",
                        "description": "Optional contact object to update. Examples: {\"ContactID\": \"guid\"} or {\"Name\": \"Customer Name\"}",
                        "properties": {
                            "ContactID": {
                                "type": "string",
                                "description": "Contact ID (GUID)"
                            },
                            "Name": {
                                "type": "string",
                                "description": "Contact name"
                            }
                        }
                    },
                    "line_items": {
                        "type": "array",
                        "description": "Optional array of line items to replace existing ones",
                        "items": {
                            "type": "object",
                            "properties": {
                                "Description": {
                                    "type": "string",
                                    "description": "Line item description"
                                },
                                "Quantity": {
                                    "type": "number",
                                    "description": "Quantity"
                                },
                                "UnitAmount": {
                                    "type": "number",
                                    "description": "Unit amount/price"
                                },
                                "AccountCode": {
                                    "type": "string",
                                    "description": "Account code for the line item"
                                },
                                "TaxType": {
                                    "type": "string",
                                    "description": "Tax type (e.g., OUTPUT, EXEMPTOUTPUT)"
                                }
                            },
                            "required": ["Description", "UnitAmount", "AccountCode"]
                        }
                    },
                    "date": {
                        "type": "string",
                        "format": "date",
                        "description": "Invoice date (YYYY-MM-DD)"
                    },
                    "due_date": {
                        "type": "string",
                        "format": "date",
                        "description": "Due date for payment (YYYY-MM-DD)"
                    },
                    "invoice_number": {
                        "type": "string",
                        "description": "Custom invoice number"
                    },
                    "reference": {
                        "type": "string",
                        "description": "Invoice reference"
                    },
                    "branding_theme_id": {
                        "type": "string",
                        "description": "Branding theme ID (GUID)"
                    },
                    "currency_code": {
                        "type": "string",
                        "description": "Currency code (e.g., USD, EUR)"
                    },
                    "status": {
                        "type": "string",
                        "enum": ["DRAFT", "SUBMITTED", "AUTHORISED"],
                        "description": "Invoice status"
                    },
                    "line_amount_types": {
                        "type": "string",
                        "enum": ["Exclusive", "Inclusive", "NoTax"],
                        "description": "Line amount types for tax calculation"
                    }
                },
                "required": ["tenant_id", "invoice_id"]
            },
            "output_schema": {
                "type": "object",
                "properties": {
                    "Invoices": {
                        "type": "array",
                        "description": "Array containing the updated invoice with full details"
                    }
                },
                "description": "Raw Xero API response for updated sales invoice"
            }
        },
        "update_purchase_bill": {
            "display_name": "Update Purchase Bill",
            "description": "Updates an existing purchase bill (ACCPAY) in Xero. Only DRAFT and SUBMITTED bills can be updated",
            "input_schema": {
                "type": "object",
                "properties": {
                    "tenant_id": {
                        "type": "string",
                        "description": "Xero tenant ID"
                    },
                    "invoice_id": {
                        "type": "string",
                        "description": "ID of the bill to update (GUID) - bills use InvoiceID in Xero API"
                    },
                    "contact": {
                        "type": "object",
                        "description": "Optional contact object to update. Examples: {\"ContactID\": \"guid\"} or {\"Name\": \"Supplier Name\"}",
                        "properties": {
                            "ContactID": {
                                "type": "string",
                                "description": "Contact ID (GUID)"
                            },
                            "Name": {
                                "type": "string",
                                "description": "Contact name"
                            }
                        }
                    },
                    "line_items": {
                        "type": "array",
                        "description": "Optional array of line items to replace existing ones",
                        "items": {
                            "type": "object",
                            "properties": {
                                "Description": {
                                    "type": "string",
                                    "description": "Line item description"
                                },
                                "Quantity": {
                                    "type": "number",
                                    "description": "Quantity"
                                },
                                "UnitAmount": {
                                    "type": "number",
                                    "description": "Unit amount/price"
                                },
                                "AccountCode": {
                                    "type": "string",
                                    "description": "Account code for the line item"
                                },
                                "TaxType": {
                                    "type": "string",
                                    "description": "Tax type (e.g., INPUT, EXEMPTINPUT)"
                                }
                            },
                            "required": ["Description", "UnitAmount", "AccountCode"]
                        }
                    },
                    "date": {
                        "type": "string",
                        "format": "date",
                        "description": "Bill date (YYYY-MM-DD)"
                    },
                    "due_date": {
                        "type": "string",
                        "format": "date",
                        "description": "Due date for payment (YYYY-MM-DD)"
                    },
                    "invoice_number": {
                        "type": "string",
                        "description": "Supplier's invoice/bill number"
                    },
                    "reference": {
                        "type": "string",
                        "description": "Bill reference"
                    },
                    "currency_code": {
                        "type": "string",
                        "description": "Currency code (e.g., USD, EUR)"
                    },
                    "status": {
                        "type": "string",
                        "enum": ["DRAFT", "SUBMITTED", "AUTHORISED"],
                        "description": "Bill status"
                    },
                    "line_amount_types": {
                        "type": "string",
                        "enum": ["Exclusive", "Inclusive", "NoTax"],
                        "description": "Line amount types for tax calculation"
                    }
                },
                "required": ["tenant_id", "invoice_id"]
            },
            "output_schema": {
                "type": "object",
                "properties": {
                    "Invoices": {
                        "type": "array",
                        "description": "Array containing the updated purchase bill with full details"
                    }
                },
                "description": "Raw Xero API response for updated purchase bill"
            }
        },
        "attach_file_to_invoice": {
            "display_name": "Attach File to Invoice",
            "description": "Attaches a file to an existing sales invoice or purchase bill in Xero",
            "input_schema": {
                "type": "object",
                "properties": {
                    "tenant_id": {
                        "type": "string",
                        "description": "Xero tenant ID"
                    },
                    "invoice_id": {
                        "type": "string",
                        "description": "ID of the invoice/bill to attach file to (GUID)"
                    },
                    "file": {
                        "type": "object",
                        "description": "File object from chat: base64 content, name, contentType.",
                        "properties": {
                            "content": {"type": "string", "description": "Base64 encoded file content"},
                            "name": {"type": "string", "description": "File name including extension"},
                            "contentType": {"type": "string", "description": "MIME type of the file"}
                        },
                        "required": ["content", "name", "contentType"]
                    },
                    "files": {
                        "type": "array",
                        "description": "Alternate input: array of file objects; the first will be used.",
                        "items": {
                            "type": "object",
                            "properties": {
                                "content": {"type": "string", "description": "Base64 encoded file content"},
                                "name": {"type": "string", "description": "File name including extension"},
                                "contentType": {"type": "string", "description": "MIME type of the file"}
                            },
                            "required": ["content", "name", "contentType"]
                        }
                    },
                    "include_online": {
                        "type": "boolean",
                        "description": "Whether to include the attachment in online invoice (default: true)"
                    }
                },
                "required": ["tenant_id", "invoice_id"]
            },
            "output_schema": {
                "type": "object",
                "properties": {
                    "Attachments": {
                        "type": "array",
                        "description": "Array containing the attachment details"
                    }
                },
                "description": "Raw Xero API response for file attachment"
            }
        },
        "attach_file_to_bill": {
            "display_name": "Attach File to Bill",
            "description": "Attaches a file to an existing purchase bill in Xero",
            "input_schema": {
                "type": "object",
                "properties": {
                    "tenant_id": {
                        "type": "string",
                        "description": "Xero tenant ID"
                    },
                    "bill_id": {
                        "type": "string",
                        "description": "ID of the bill to attach file to (GUID) - same as invoice_id in Xero API"
                    },
                    "file": {
                        "type": "object",
                        "description": "File object from chat: base64 content, name, contentType.",
                        "properties": {
                            "content": {"type": "string", "description": "Base64 encoded file content"},
                            "name": {"type": "string", "description": "File name including extension"},
                            "contentType": {"type": "string", "description": "MIME type of the file"}
                        },
                        "required": ["content", "name", "contentType"]
                    },
                    "files": {
                        "type": "array",
                        "description": "Alternate input: array of file objects; the first will be used.",
                        "items": {
                            "type": "object",
                            "properties": {
                                "content": {"type": "string", "description": "Base64 encoded file content"},
                                "name": {"type": "string", "description": "File name including extension"},
                                "contentType": {"type": "string", "description": "MIME type of the file"}
                            },
                            "required": ["content", "name", "contentType"]
                        }
                    },
                    "include_online": {
                        "type": "boolean",
                        "description": "Whether to include the attachment in online bill (default: true)"
                    }
                },
                "required": ["tenant_id", "bill_id"]
            },
            "output_schema": {
                "type": "object",
                "properties": {
                    "Attachments": {
                        "type": "array",
                        "description": "Array containing the attachment details"
                    }
                },
                "description": "Raw Xero API response for file attachment"
            }
        }
    }
}