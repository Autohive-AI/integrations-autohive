{
  "name": "Ahrefs",
  "display_name": "Ahrefs",
  "version": "1.0.0",
  "description": "SEO analytics integration with Ahrefs API v3 for backlink analysis, domain ratings, keyword research, and organic traffic insights",
  "entry_point": "ahrefs.py",
  "auth": {
    "type": "custom",
    "title": "Ahrefs",
    "fields": {
      "type": "object",
      "properties": {
        "api_key": {
          "type": "string",
          "format": "password",
          "label": "API Key",
          "help_text": "Your Ahrefs API key (Enterprise plan required). Find it in Settings > API Access."
        }
      }
    }
  },
  "actions": {
    "get_domain_rating": {
      "display_name": "Get Domain Rating",
      "description": "Get the Domain Rating (DR) and Ahrefs Rank for a target domain",
      "input_schema": {
        "type": "object",
        "properties": {
          "target": {
            "type": "string",
            "description": "Target domain to analyze (e.g., 'example.com')"
          },
          "date": {
            "type": "string",
            "description": "Date for historical data in YYYY-MM-DD format (default: today)"
          }
        },
        "required": ["target"]
      },
      "output_schema": {
        "type": "object",
        "properties": {
          "domain_rating": {
            "type": "number",
            "description": "Domain Rating score (0-100)"
          },
          "ahrefs_rank": {
            "type": "integer",
            "description": "Ahrefs Rank position"
          },
          "result": {
            "type": "boolean",
            "description": "Operation success status"
          }
        }
      }
    },
    "get_backlinks_stats": {
      "display_name": "Get Backlinks Stats",
      "description": "Get backlink statistics for a target domain including total backlinks and referring domains",
      "input_schema": {
        "type": "object",
        "properties": {
          "target": {
            "type": "string",
            "description": "Target domain or URL to analyze"
          },
          "mode": {
            "type": "string",
            "description": "Analysis mode: 'exact' (URL only), 'domain' (entire domain), 'subdomains' (domain + subdomains), 'prefix' (URL prefix)",
            "enum": ["exact", "domain", "subdomains", "prefix"]
          },
          "date": {
            "type": "string",
            "description": "Date for historical data in YYYY-MM-DD format (default: today)"
          }
        },
        "required": ["target"]
      },
      "output_schema": {
        "type": "object",
        "properties": {
          "live_backlinks": {
            "type": "integer",
            "description": "Number of live backlinks"
          },
          "all_time_backlinks": {
            "type": "integer",
            "description": "Total backlinks ever seen"
          },
          "live_refdomains": {
            "type": "integer",
            "description": "Number of live referring domains"
          },
          "all_time_refdomains": {
            "type": "integer",
            "description": "Total referring domains ever seen"
          },
          "result": {
            "type": "boolean",
            "description": "Operation success status"
          }
        }
      }
    },
    "get_backlinks": {
      "display_name": "Get Backlinks",
      "description": "Get a list of backlinks pointing to a target domain or URL",
      "input_schema": {
        "type": "object",
        "properties": {
          "target": {
            "type": "string",
            "description": "Target domain or URL to analyze"
          },
          "mode": {
            "type": "string",
            "description": "Analysis mode: 'exact', 'domain', 'subdomains', or 'prefix'",
            "enum": ["exact", "domain", "subdomains", "prefix"]
          },
          "limit": {
            "type": "integer",
            "description": "Maximum number of backlinks to return (default: 100, max: 1000)"
          },
          "date": {
            "type": "string",
            "description": "Date for historical data in YYYY-MM-DD format (default: today)"
          }
        },
        "required": ["target"]
      },
      "output_schema": {
        "type": "object",
        "properties": {
          "backlinks": {
            "type": "array",
            "description": "List of backlinks with url_from, url_to, domain_rating_source, anchor, first_seen, is_dofollow"
          },
          "result": {
            "type": "boolean",
            "description": "Operation success status"
          }
        }
      }
    },
    "get_referring_domains": {
      "display_name": "Get Referring Domains",
      "description": "Get a list of domains that link to the target",
      "input_schema": {
        "type": "object",
        "properties": {
          "target": {
            "type": "string",
            "description": "Target domain or URL to analyze"
          },
          "mode": {
            "type": "string",
            "description": "Analysis mode: 'exact', 'domain', 'subdomains', or 'prefix'",
            "enum": ["exact", "domain", "subdomains", "prefix"]
          },
          "limit": {
            "type": "integer",
            "description": "Maximum number of referring domains to return (default: 100, max: 1000)"
          },
          "date": {
            "type": "string",
            "description": "Date for historical data in YYYY-MM-DD format (default: today)"
          }
        },
        "required": ["target"]
      },
      "output_schema": {
        "type": "object",
        "properties": {
          "referring_domains": {
            "type": "array",
            "description": "List of referring domains with domain, domain_rating, backlinks, first_seen, last_visited"
          },
          "result": {
            "type": "boolean",
            "description": "Operation success status"
          }
        }
      }
    },
    "get_organic_keywords": {
      "display_name": "Get Organic Keywords",
      "description": "Get organic keywords that a domain ranks for in search results",
      "input_schema": {
        "type": "object",
        "properties": {
          "target": {
            "type": "string",
            "description": "Target domain to analyze"
          },
          "country": {
            "type": "string",
            "description": "Two-letter country code for search results (e.g., 'us', 'uk', 'de')"
          },
          "limit": {
            "type": "integer",
            "description": "Maximum number of keywords to return (default: 100, max: 1000)"
          },
          "date": {
            "type": "string",
            "description": "Date for historical data in YYYY-MM-DD format (default: today)"
          }
        },
        "required": ["target"]
      },
      "output_schema": {
        "type": "object",
        "properties": {
          "keywords": {
            "type": "array",
            "description": "List of keywords with keyword, volume, best_position, keyword_difficulty, cpc, sum_traffic"
          },
          "result": {
            "type": "boolean",
            "description": "Operation success status"
          }
        }
      }
    },
    "get_top_pages": {
      "display_name": "Get Top Pages",
      "description": "Get the top pages of a domain by organic traffic",
      "input_schema": {
        "type": "object",
        "properties": {
          "target": {
            "type": "string",
            "description": "Target domain to analyze"
          },
          "country": {
            "type": "string",
            "description": "Two-letter country code (e.g., 'us', 'uk')"
          },
          "limit": {
            "type": "integer",
            "description": "Maximum number of pages to return (default: 100, max: 1000)"
          },
          "date": {
            "type": "string",
            "description": "Date for historical data in YYYY-MM-DD format (default: today)"
          }
        },
        "required": ["target"]
      },
      "output_schema": {
        "type": "object",
        "properties": {
          "pages": {
            "type": "array",
            "description": "List of pages with url, sum_traffic, keywords, referring_domains"
          },
          "result": {
            "type": "boolean",
            "description": "Operation success status"
          }
        }
      }
    },
    "get_outlinks_stats": {
      "display_name": "Get Outlinks Stats",
      "description": "Get outgoing link statistics for a target domain",
      "input_schema": {
        "type": "object",
        "properties": {
          "target": {
            "type": "string",
            "description": "Target domain or URL to analyze"
          },
          "mode": {
            "type": "string",
            "description": "Analysis mode: 'exact', 'domain', 'subdomains', or 'prefix'",
            "enum": ["exact", "domain", "subdomains", "prefix"]
          },
          "date": {
            "type": "string",
            "description": "Date for historical data in YYYY-MM-DD format (default: today)"
          }
        },
        "required": ["target"]
      },
      "output_schema": {
        "type": "object",
        "properties": {
          "outgoing_links": {
            "type": "integer",
            "description": "Total outgoing links"
          },
          "outgoing_links_dofollow": {
            "type": "integer",
            "description": "Dofollow outgoing links"
          },
          "linked_domains": {
            "type": "integer",
            "description": "Number of linked domains"
          },
          "linked_domains_dofollow": {
            "type": "integer",
            "description": "Number of dofollow linked domains"
          },
          "result": {
            "type": "boolean",
            "description": "Operation success status"
          }
        }
      }
    }
  }
}
