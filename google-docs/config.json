{
  "name": "Google Docs",
  "display_name": "Google Docs",
  "version": "0.1.0",
  "entry_point": "google_docs.py",
  "description": "Create, read, and edit Google Docs with support for text insertion, paragraph styling, and tab management.",
  "auth": {
    "type": "platform",
    "provider": "Google Docs",
    "scopes": [
      "https://www.googleapis.com/auth/documents",
      "https://www.googleapis.com/auth/drive.file"
    ]
  },
  "actions": {
    "docs_create": {
      "display_name": "Create Document",
      "description": "Create a new Google Doc with optional title and initial tab.",
      "input_schema": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "description": "Title of the document (optional)."
          }
        }
      },
      "output_schema": {
        "type": "object",
        "properties": {
          "documentId": { "type": "string", "description": "The unique ID of the created document" },
          "documentUrl": { "type": "string", "description": "The shareable URL to view/edit the document" },
          "title": { "type": "string", "description": "The title of the created document" },
          "result": { "type": "boolean" },
          "error": { "type": "string" }
        },
        "required": ["result"]
      }
    },
    "docs_get": {
      "display_name": "Get Document",
      "description": "Retrieve full document content including all tabs.",
      "input_schema": {
        "type": "object",
        "properties": {
          "document_id": {
            "type": "string",
            "description": "The ID of the document to retrieve."
          },
          "include_tabs_content": {
            "type": "boolean",
            "description": "Whether to include content from all tabs (default: true)."
          }
        },
        "required": ["document_id"]
      },
      "output_schema": {
        "type": "object",
        "properties": {
          "document": { "type": "object" },
          "result": { "type": "boolean" },
          "error": { "type": "string" }
        },
        "required": ["result"]
      }
    },
    "docs_insert_paragraphs": {
      "display_name": "Insert Paragraphs",
      "description": "Insert multiple plain text paragraphs into the document. Each paragraph will be separated by double newlines. For structured content with headings, use docs_smart_insert_with_tabs instead.",
      "input_schema": {
        "type": "object",
        "properties": {
          "document_id": {
            "type": "string",
            "description": "The ID of the document."
          },
          "paragraphs": {
            "type": "array",
            "items": { "type": "string" },
            "description": "Array of paragraph text strings to insert."
          },
          "append": {
            "type": "boolean",
            "description": "If true, append to end; if false, insert at beginning (default: true)."
          },
          "tab_id": {
            "type": "string",
            "description": "Optional tab ID if working with a specific tab."
          }
        },
        "required": ["document_id", "paragraphs"]
      },
      "output_schema": {
        "type": "object",
        "properties": {
          "result": { "type": "boolean" },
          "paragraphs_inserted": { "type": "integer" },
          "inserted_at_index": { "type": "integer" },
          "error": { "type": "string" }
        },
        "required": ["result"]
      }
    },
    "docs_batch_update": {
      "display_name": "Batch Update",
      "description": "Execute multiple document updates in a single batch request. Use this for text formatting (bold, italic, colors, font size), paragraph styling, and custom Google Docs API operations. IMPORTANT: You must provide the 'requests' parameter as an array of Google Docs API request objects.",
      "input_schema": {
        "type": "object",
        "properties": {
          "document_id": {
            "type": "string",
            "description": "The ID of the document."
          },
          "requests": {
            "type": "array",
            "items": { "type": "object" },
            "description": "REQUIRED: Array of Google Docs API request objects. Example for bold: [{\"updateTextStyle\": {\"range\": {\"startIndex\": 1, \"endIndex\": 10}, \"textStyle\": {\"bold\": true}, \"fields\": \"bold\"}}]"
          }
        },
        "required": ["document_id", "requests"]
      },
      "output_schema": {
        "type": "object",
        "properties": {
          "replies": {
            "type": "array",
            "items": { "type": "object" }
          },
          "result": { "type": "boolean" },
          "error": { "type": "string" }
        },
        "required": ["result"]
      }
    },
    "docs_parse_structure": {
      "display_name": "Parse Document Structure",
      "description": "Parse document structure to identify headings, paragraphs, tables, and their positions. Helps distinguish between heading styles (HEADING_1-6, TITLE, SUBTITLE) and body paragraphs (NORMAL_TEXT).",
      "input_schema": {
        "type": "object",
        "properties": {
          "document_id": {
            "type": "string",
            "description": "The ID of the document."
          },
          "tab_id": {
            "type": "string",
            "description": "Optional tab ID to parse a specific tab."
          }
        },
        "required": ["document_id"]
      },
      "output_schema": {
        "type": "object",
        "properties": {
          "structure": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "type": { "type": "string", "description": "Element type: heading, paragraph, table, or section_break" },
                "style": { "type": "string", "description": "Named style type (e.g., HEADING_1, NORMAL_TEXT)" },
                "text": { "type": "string", "description": "Text content of the element" },
                "startIndex": { "type": "integer", "description": "Start position in the document" },
                "endIndex": { "type": "integer", "description": "End position in the document" },
                "alignment": { "type": "string", "description": "Text alignment if present" }
              }
            }
          },
          "result": { "type": "boolean" },
          "error": { "type": "string" }
        },
        "required": ["structure", "result"]
      }
    },
    "docs_insert_markdown_content": {
      "display_name": "Insert Markdown Content",
      "description": "Insert markdown-formatted content with automatic heading detection and styling. REQUIRES markdown format with headings (# for H1, ## for H2). For plain paragraphs without headings, use docs_insert_paragraphs instead. Automatically applies Google Docs heading styles in a single operation.",
      "input_schema": {
        "type": "object",
        "properties": {
          "document_id": {
            "type": "string",
            "description": "The ID of the document."
          },
          "content": {
            "type": "string",
            "description": "MARKDOWN text with headings (# for H1, ## for H2, etc.). Example: '# Overview\\nParagraph text\\n\\n## Details\\nMore text'."
          },
          "heading_level": {
            "type": "integer",
            "description": "Which heading level to parse (default: 1 for #). Use 1 for #, 2 for ##, etc."
          },
          "tab_id": {
            "type": "string",
            "description": "Optional tab ID if working with a specific tab."
          },
          "append": {
            "type": "boolean",
            "description": "If true, append to end of document; if false, insert at beginning (default: true)."
          }
        },
        "required": ["document_id", "content"]
      },
      "output_schema": {
        "type": "object",
        "properties": {
          "result": { "type": "boolean" },
          "sections_inserted": { "type": "integer" },
          "total_paragraphs": { "type": "integer" },
          "error": { "type": "string" }
        },
        "required": ["result"]
      }
    }
  }
}